<app-dashboared></app-dashboared>
<a class="catBtn" mat-button (click)="getCategoryByCategoryName()"  cdkFocusInitial> <span class="input-group-text border-0" id="search-addon">
    <i class="fa fa-search"></i>
  </span>  </a>
  <form class="user-form" id="form">
    <input type="text" id="search" placeholder="Search" [formControl]="searchSound">
  </form>
  <br>
  <br>


<button class="btn"  (click)="create()">Create</button>

<div class="container">

<table class="table table-bordered table-striped">
  <tr>
    <th class="text-left">Category name </th>
    <th class="text-left">Image</th>
    <th class="text-left">Options</th>
    
  </tr>
  <tr>
      <tr     *ngFor="let category of home.library"       >
            <td class="text-left">  {{category.categoryName}}</td>
            <td class="text-left"><img src="../../../assets/img/{{category.image}}" style="height: 150px;width:150px;"></td>
           
    
            
            <td class="text-left">
                <button class="button" (click)="openUpdateDailog(category.categoryID,category.categoryName,category.image
                )">Update</button>
    
                <button class="button" (click)="openDeleteDailog(category.categoryID)">Delete</button>
        
        </td>
  </tr>
  
</table>
</div><br /><br />



















    <ng-template #callUpdateDailog>
        <mat-dialog-actions align="end">
       
    
            <img id="cancel" mat-button mat-dialog-close [src]="delete"/>
        </mat-dialog-actions>
        


        <form [formGroup]="UpdateForm" id="contact" action="" method="post">
            <fieldset>
          
            <input  placeholder="Your name" type="text" tabindex="1" required autofocus formControlName="categoryName" [(ngModel)]="category.categoryName">
            <mat-error *ngIf="UpdateForm.controls['categoryName'].hasError('required')">
              Category Name is <strong>required</strong>
            </mat-error>
      
          </fieldset>
           
            <fieldset>
              <li>
                <input type="file" #file placeholder="Choose Image" 
                formControlName="image"
                        [(ngModel)]="category.image" (change)="uploadImage(file.files)" 
                style="display: none;">
                <button (click)="file.click()" class="btnm ">Upload Image</button>
       
            </li>    
    
            
            </fieldset>
            <fieldset>
              <button name="submit"  (click)="update()" type="submit"  id="contact-submit" data-submit="...Sending">Submit</button>
            </fieldset>
          </form>
    


        <!-- <form [formGroup]="UpdateForm">
            <ul>
                <li>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Enter the category name</mat-label>
                        <input type="text" matInput formControlName="categoryName" [(ngModel)]="category.categoryName">
                    </mat-form-field>
                </li>
                <li>
                    <input type="file" #file placeholder="Choose Image" formControlName="image"
                        [(ngModel)]="category.image" (change)="uploadImage(file.files)" style="display: none;">
                    <button (click)="file.click()" class="imageBtn">Upload Image</button>
                </li>
            </ul>
            <button class="button" (click)="update()">Update</button>
    
        </form> -->
    
    
    
    </ng-template>
    
    <ng-template #callDeleteDailog>
        <mat-dialog-actions align="end">
       
    
            <img id="cancel" mat-button mat-dialog-close [src]="delete"/>
        </mat-dialog-actions>
        
        <span id="mydele">Are you sure you want to delete this item?</span>
        <div>
             <button class="button" mat-button mat-dialog-close="no">No</button>
            <button class="button" mat-button mat-dialog-close="yes">yes</button>
        </div>
        </ng-template>
    
    